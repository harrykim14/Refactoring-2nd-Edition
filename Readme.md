<!-- Heading -->

# 리팩터링 2판 스터디

<!-- Line -->

개인 프로젝트를 진행하며 **좋은 코드란 무엇인가**?에 대해 알아보고자 클린코드에 이어 리팩터링 2판을 구매하여 책의 예시를 따라가보고자 한다. (2021/01/03 시작)

## Chapter 01
[코드 보기](https://github.com/harrykim14/Refactoring-2nd-Edition/blob/master/01.%20extract%20function.js)
* 함수 추출하기 
    - 함수 및 변수는 명확한 이름으로 변경하기
    - 좋은 코드라면 하는 일이 명확히 드러나야하며 변수 이름은 커다란 역할을 함

* 조건부 로직을 다형성으로 바꾸기
    - 타입 코드 대신 서브클래스를 사용하도록 변경
    - 다형성을 이용하여 필요 할 때 오버라이드하게 만들기

> ### 챕터1에서 정리하는 리팩터링 작업의 단계
1. **반복문 쪼개기**로 누적 변수값을 분리
2. **문장 슬라이드하기**로 초기화 문장을 누적 코드 앞으로 옮김
3. **함수 추출하기**로 별도 함수로 추출
4. **변수 인라인하기**로 변수 제거


## Chaper 02
코드 보기
* **리팩터링** : 소프트웨어의 겉보기 동작은 그대로 유지한 채 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법

> 리팩터링의 의미
* **특정한 방식**에 따라 코드를 정리하는 것
* 리팩터링하기 전과 후의 코드가 **똑같이 동작**해야 함
* 함수 추출하기를 거치면 콜스택이 달라져 성능이 변할 수도 있음
* 리팩터링의 목적은 **코드를 이해하고 수정하기 쉽게** 만드는 것

> 리팩터링은 언제 해야 할까?

**비슷한 일을 세 번째 하게 되면 리팩터링한다**

1. 구조를 바꾸면 다른 작업을 하기가 쉬워질 부분을 찾아 정리하기
2. 자잘한 세부 코드에 이해를 위한 리팩터링 하기 (변수명 변경 및 긴 함수 나누기 등)
3. 캠핑 규칙([*1](#주1))에 따라 처음 봤을 때보다 깔끔하게 정리하기
4. 리팩터링은 프로그래밍과 구분되는 별개의 활동이 아니다
    * 소프트웨어 개발은 추가하는 과정만이 아니다
5. 코드 리뷰에 리팩터링을 활용하기
6. 자가 테스트 코드를 마련하면 리팩터링에 도움이 된다

> 리팩터링을 고려해야 할 때
* 외부 API 다루듯 호출해서 쓰는 코드라면 지저분해도 그냥 두기
* 처음부터 새로 작성하는게 쉬울 때엔 리팩터링 하지 않기
* 리팩터링을 도덕적인 이유로 정당화하지 않기

> 리팩터링을 활용하기
1. 아키텍처를 결정하는 시간을 줄여 개발을 바로 시작하여 개발 중에 리팩터링으로 아키텍처를 다듬을 수 있다
2. 자가 테스트 코드와 리팩터링을 묶어 **테스트 주도 개발**(TDD)라 하며 요구사항 변화에 빠르게 대응하고 안정적인 구조를 코드베이스에 심을 수 있다
3. 리팩터링은 단기적으로 성능이 느려질 수도 있지만 튜닝하기 쉽게 만들기 때문에 결국 더 빠른 소프트웨어를 얻게 될 수 있다



> ##### #주1 : 도착했을때보다 깔끔하게 정돈하고 떠난다(챕터1.7)